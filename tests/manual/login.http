
### Step 2: Register User Mary (using /register endpoint)
# @name createUserMark
POST http://localhost:3001/api/v1/register HTTP/1.1
Content-Type: application/json

{ 
  "name": "Mark",
  "phonenumber": "0987654321",
  "email": "mark@gmail.com",
  "password": "password123",
  "role": ""
}

### Step 3: Login as Mark (using /login endpoint)
# @name loginMark
POST http://localhost:3001/api/v1/login HTTP/1.1
Content-Type: application/json

{
   "email": "mark@gmail.com",
   "password": "password123"
}

### Extract Mark's token
@accessTokenMark = {{loginMark.response.body.accessToken}}

### Get Mark's user ID from registration response
@markUserId = {{createUserMark.response.body.userId}}

### Get all users to see Mark
GET http://localhost:3001/api/v1/users HTTP/1.1
Authorization: Bearer {{accessTokenMark}}
### Delete Mark's account using the ObjectId
DELETE http://localhost:3001/api/v1/users/{{markUserId}} HTTP/1.1
Content-Type: application/json
Authorization: Bearer {{accessTokenMark}}


### Step 1: Register Admin User (using /register endpoint)
# @name createUserAdmin
POST http://localhost:3001/api/v1/register HTTP/1.1
Content-Type: application/json

{ 
  "name": "Admin",
  "phonenumber": "1234567890",
  "email": "admin@gmail.com",
  "password": "adminpass123",
  "role": "admin"
}

### Step 2: Login as Admin (using /login endpoint)
# @name loginAdmin
POST http://localhost:3001/api/v1/login HTTP/1.1
Content-Type: application/json

{
   "email": "admin@gmail.com",
   "password": "adminpass123"
}

### Extract Admin's token
@accessTokenAdmin = {{loginAdmin.response.body.accessToken}}

### Get Admin's user ID
@adminUserId = {{createUserAdmin.response.body.userId}}

### Get all users (Admin only)
GET http://localhost:3001/api/v1/users HTTP/1.1
Authorization: Bearer {{accessTokenAdmin}}

### Delete Admin's account
DELETE http://localhost:3001/api/v1/users/{{adminUserId}} HTTP/1.1
Content-Type: application/json
Authorization: Bearer {{accessTokenAdmin}}

DELETE http://localhost:3001/api/v1/users/675d5e8a1234567890abcdef HTTP/1.1
Content-Type: application/json
Authorization: Bearer {{accessTokenAdmin}}